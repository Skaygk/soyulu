<!DOCTYPE html> 
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SIGMIZA</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        background-color: #000000;
        color: #9400D3;
        margin: 0;
        padding: 0;
        text-align: center;
      }

      h1 {
        color: #9400D3;
        font-size: 3em;
        margin: 20px 0;
        animation: pulse 1.5s infinite;
      }

      @keyframes pulse {
        0%, 100% {
          text-shadow: 0 0 5px #9400D3, 0 0 10px #9400D3, 0 0 20px #9400D3, 0 0 40px #9400D3;
        }
        50% {
          text-shadow: 0 0 10px #FF00FF, 0 0 20px #FF00FF, 0 0 30px #FF00FF, 0 0 50px #FF00FF;
        }
      }

      .folder {
        display: inline-block;
        margin: 20px;
        text-decoration: none;
        color: #9400D3;
        font-size: 1.5em;
        padding: 15px;
        border: 2px solid #9400D3;
        border-radius: 10px;
        transition: background-color 0.3s, color 0.3s;
      }

      .folder:hover {
        background-color: #9400D3;
        color: white;
      }
    </style>
  </head>
  <body>
    <h1>SIGMIZA</h1>

    <a class="folder" href="day/index.html">游늭 Day</a>
    <a class="folder" href="proximamente/index.html">游늭 Proximamente</a>

    <a id="group-button" href="https://imagehub.fun/P54OYO.link" target="_blank">Nuestro Grupo</a>

    <!-- Firebase + Firestore -->
    <script type="module">
      // Import Firebase
      import { initializeApp } from "https://www.gstatic.com/firebasejs/12.7.0/firebase-app.js";
      import { getFirestore, collection, addDoc, serverTimestamp } from "https://www.gstatic.com/firebasejs/12.7.0/firebase-firestore.js";

      // Configuraci칩n de Firebase
      const firebaseConfig = {
        apiKey: "AIzaSyCPjjoWPfc9aFR7pIfhx0tq4eSBNow3LyE",
        authDomain: "sigmapi-9d289.firebaseapp.com",
        projectId: "sigmapi-9d289",
        storageBucket: "sigmapi-9d289.firebasestorage.app",
        messagingSenderId: "430439775174",
        appId: "1:430439775174:web:4ff3b955bf4bc9daf450c7"
      };

      // Inicializar Firebase
      const app = initializeApp(firebaseConfig);
      const db = getFirestore(app);

      // Funci칩n para obtener IP + ciudad + pa칤s
      async function obtenerInfoIP() {
        try {
          const res = await fetch('https://ipapi.co/json/');
          const data = await res.json();
          return {
            ip: data.ip,
            ciudad: data.city,
            pais: data.country_name
          };
        } catch (error) {
          console.error("Error obteniendo info IP:", error);
          return { ip: "desconocida", ciudad: "desconocida", pais: "desconocido" };
        }
      }

      // Funci칩n para guardar datos en Firestore
      async function guardarIP() {
        try {
          const info = await obtenerInfoIP();
          await addDoc(collection(db, "ips"), {
            ip: info.ip,
            ciudad: info.ciudad,
            pais: info.pais,
            fecha: serverTimestamp(),
            userAgent: navigator.userAgent
          });
          console.log("Datos guardados:", info);
        } catch (error) {
          console.error("Error guardando datos:", error);
        }
      }

      // Ejecutar al cargar la p치gina
      window.addEventListener('load', guardarIP);
    </script>
  </body>
</html>
